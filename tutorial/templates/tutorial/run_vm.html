CTYPE html>

    {% include 'bdrsite/header.html' %}
        <body>
                {% include 'bdrsite/nav.html' %}
                        <section id="main" class="wrapper">
                                        <div class="container">
                                                        <h3>Run website from a virtual machine</h3>
                                                                        <p>Carolyn Zhang, Xiao Peng (2/13/2018)</p>

                                                                                        <h4>1.  Make new VM in Duke Virtual Computing Manager (google Duke VCM)</h4>
                                                                                                        <h4>2.  Choose a virtual environment (Ubuntu 16.04)</h4>
                                                                                                                        <h4>3.  LOGIN TO VIRTUAL MACHINE (from local terminal)</h4>
                                                                                                                                            <p>ssh netid@hostname (ex: cz73@vcm-3273.vm.duke.edu) </p>
                                                                                                                                                                <p>a.   It will ask for password: use your normal netid password</p>
                                                                                                                                                                                    <h4>4.  ONCE LOGGED ON TO VM: </h4>
                                                                                                                                                                                                        <p>a.   sudo apt-get install python-setuptools python-dev build-essential.</p>
                                                                                                                                                                                                                            <p>b.   sudo easy_install pip</p>
                                                                                                                                                                                                                                                <p>c.   sudo pip install Django</p>
                                                                                                                                                                                                                                                                    <p>d.   sudo pip install postgres</p>
                                                                                                                                                                                                                                                                                        <p>e.   sudo apt-get install git</p>
                                                                                                                                                                                                                                                                                                            <p>f.   git clone (https repository from website – bdrsite on carolyn’s github account ex: git clone https://github.com/carmzhang/bdrsite.git)</p>
                                                                                                                                                                                                                                                                                                                                <p>g.   in bdrsite/bdrsite find file settings.py and modify 2 things:</p>
                                                                                                                                                                                                                                                                                                                                                    <p>i.   Change ALLOWED_HOSTS  to  ALLOWED_HOSTS = [‘vcm-Number.vm.duke.edu’, 'localhost','127.0.0.1']</p>
                                                                                                                                                                                                                                                                                                                                                                        <p>ii.  Change DATABASES to DATABASES = {</p>
                                                                                                                                                                                                                                                                                                                                                                                            <p>'default': {</p>
                                                                                                                                                                                                                                                                                                                                                                                                                <p>  'ENGINE':'django.db.backends.sqlite3',</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                    <p>  'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                        <p>#        'ENGINE': 'django.db.backends.postgresql',</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <p>#        'NAME': 'bdr',</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <p>#        'USER': 'postgres',</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <p>#        'PASSWORD': 'redadmin',</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <p>#        'HOST' : 'bluedevilresistome-599.postgres.pythonanywhere-services.com',</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <p>#        'PORT': '10599',</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <p>    }</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <p>}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <p>h.   Save file by esc, then type “:wq” in terminal.</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <p>i.   In main folder, type “python manage.py runserver hostname:8000” (ex: python manage.py runserver vcm-3273.vm.duke.edu:8000)</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <h4>5.  On local computer (web browser) look at vcm-VMName.vm.duke.edu:8000 and the website will show up.</h4>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <br>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <ul class="actions">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li><a href="/tutorial/contribute" class="button special">Back</a></li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </section>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </html>

